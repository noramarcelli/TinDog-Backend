webpackJsonp([1],{0:function(t,e,s){t.exports=s("NHnr")},1:function(t,e){},"4ffV":function(t,e){},"6ckn":function(t,e){},"7zck":function(t,e){},A6mz:function(t,e){},F8CA:function(t,e){},G3BA:function(t,e){},GK12:function(t,e){},M8u4:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("/5sW"),n=(s("EuXz"),{computed:{showNav:function(){return"edit"!==this.$route.name},loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay}}}),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:[t.$route.name],attrs:{id:"app"}},[t.showNav?o("div",{attrs:{id:"nav"}},[o("router-link",{staticClass:"profile",attrs:{to:"/profile",name:"profile"}},[o("i",{staticClass:"fa fa-user"})]),t._v(" |\n    "),o("router-link",{attrs:{to:"/swipe"}},[o("span",[o("img",{staticClass:"logo",attrs:{src:s("lVuh")}})])]),t._v(" |\n    "),o("router-link",{staticClass:"msgs",attrs:{to:"/msgs",name:"messages"}},[o("i",{staticClass:"fa fa-comments"})])],1):t._e(),o("router-view"),o("footer")],1)},a=[],r=s("XyMi");function c(t){s("G3BA")}var l=!1,u=c,d=null,g=null,p=Object(r["a"])(n,i,a,l,u,d,g),m=p.exports,f=s("/ocq"),h={},v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"home"},[s("p",[t._v("Swipe to your Love's Tail...")]),s("router-link",{attrs:{to:"/login"}},[t._v("Log In")]),t._v(" |\r\n  "),s("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)},C=[];function _(t){s("A6mz")}var D=!1,y=_,b="data-v-5b1c2689",I=null,$=Object(r["a"])(h,v,C,D,y,b,I),w=$.exports,E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("This is a temp messages page")])])}],x=null,T=!1,U=null,B=null,M=null,N=Object(r["a"])(x,E,k,T,U,B,M),S=N.exports,F=s("fKPv"),A=s.n(F),G=s("mtWM"),O=s.n(G);const P="";function R(t){return O.a.post(`${P}/login`,t).then(t=>{return sessionStorage.user=JSON.stringify(t.data.user),t.data.user}).catch(t=>{throw new Error("Login Failed")})}function L(t){return O.a.post(`${P}/register`,t).then(t=>console.log(t.data)).catch(t=>{throw new Error("Register Failed")})}function H(){return O.a.post(`${P}/logout`).then(t=>{delete sessionStorage.user}).catch(t=>{throw new Error("Logout Failed")})}function j(t){return console.log("userId inside getUserById in front service",t),O.a.get(`${P}/user/${t}`).then(t=>{return console.log("res in getUserById",t),t.data}).catch(t=>{throw new Error("Get User By Id Failed")})}var K={login:R,register:L,logout:H,getUserById:j};const z="/dog";function W(){return{name:"",imgs:[],age:0,description:"",gender:"",matchesIds:[],favs:[]}}function V(){var t=z;return O.a.get(t).then(t=>t.data).catch(t=>console.log("No Dogs",t))}function Y(t){return t._id?O.a.put(Z(t._id),t):O.a.post(z,t)}function q(t){return O.a.delete(Z(t))}function Q(t){return O.a.get(Z(t)).then(t=>t.data)}function Z(t){return`${z}/${t}`}function J(t,e){t=t||"";var s=`${z}/next?prevId=${t}&userDogId=${e}`;return O.a.get(s).then(t=>{return t.data[0]?t.data:"no dogs"})}function X(t,e,s){return O.a.post(`${z}/like`,{likedId:t,userDogId:e,userId:s}).then(t=>t.data)}function tt(t){return O.a.get(`${z}/like/${t}`).then(t=>{return t.data})}function et(t){return O.a.post(`${z}/uploadImg`,{imgUrl:t}).then(t=>{return t.data})}var st,ot={getDogs:V,saveDog:Y,deleteDog:q,emptyDog:W,getDogById:Q,getNextDogs:J,addLikeToDog:X,findLikes:tt,uploadImg:et},nt="login",it="loadUserDog",at={state:{loggedinUser:null,userDog:null},mutations:{setUser:function(t,e){var s=e.user;t.loggedinUser=s},setUserDog:function(t,e){var s=e.dog;t.userDog=s}},actions:(st={},A()(st,nt,function(t,e){var s=e.userCredentials;return K.login(s).then(function(e){console.log("user in LOGIN",e),t.commit({type:"setUser",user:e}),t.dispatch({type:it,dogId:e.dogId}),t.dispatch({type:"getDogMatches",dogId:e.dogId})})}),A()(st,it,function(t,e){var s=e.dogId;return ot.getDogById(s).then(function(e){return t.commit({type:"setUserDog",dog:e}),console.log("dog in loadDog",e),e}).catch(function(t){return console.log(t)})}),A()(st,"logout",function(t){return K.logout().then(function(e){var s=null;t.commit({type:"setUser",user:s})}).catch(function(t){return console.log(t)})}),st),getters:{loggedInUserForDisplay:function(t){return t.loggedinUser},userDog:function(t){return t.userDog?t.userDog:{}},userDogId:function(t){return t.loggedinUser?t.loggedinUser.dogId:null}}},rt={name:"login-page",data:function(){return{user:{name:"Nora",password:"1234"}}},created:function(){},methods:{checkLogin:function(){var t=this;this.$store.dispatch({type:nt,userCredentials:this.user}).then(function(e){console.log("You have been logged-in!");var s=t.$store.getters.loggedInUserForDisplay;console.log({user:s}),t.$socket.emit("userLoggedIn",s),t.$router.push("/swipe")}).catch(function(e){console.log("Login Failed!"),t.$refs.txtUserName.focus(),t.$router.push("/")})}},computed:{}},ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login-page"},[s("form",{staticClass:"field",on:{submit:function(e){return e.preventDefault(),t.checkLogin(e)}}},[s("h1",[t._v("Please Login:")]),s("span",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],ref:"txtUserName",staticClass:"input is-danger is-small is-rounded",attrs:{type:"text",placeholder:"User name",autofocus:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input is-danger is-small is-rounded",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("br"),s("button",{staticClass:"button is-danger is-rounded",attrs:{type:"submit",disabled:!this.user.name||!this.user.password}},[t._v("Login")])])])])},lt=[],ut=!1,dt=null,gt=null,pt=null,mt=Object(r["a"])(rt,ct,lt,ut,dt,gt,pt),ft=mt.exports,ht={name:"register-page",created:function(){},data:function(){return{user:{name:"",password:""}}},methods:{register:function(){var t=this;K.register(this.user).then(function(e){console.log("Register Completed, now try to log-in!"),t.$router.push("/login")}).catch(function(t){return console.log("Register Failed!")})}},computed:{}},vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"register-page"},[s("h1",[t._v("Please Register:")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input is-danger is-small is-rounded",attrs:{type:"text",placeholder:"username",autofocus:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input is-danger is-small is-rounded",attrs:{type:"password",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("br"),s("button",{staticClass:"button is-danger is-rounded",attrs:{type:"submit"}},[t._v("Register")])])])},Ct=[],_t=!1,Dt=null,yt=null,bt=null,It=Object(r["a"])(ht,vt,Ct,_t,Dt,yt,bt),$t=It.exports,wt=s("Biqn"),Et=s.n(wt),kt={created:function(){var t=this.dog._id;this.$store.dispatch({type:"getDogMatches",dogId:t})},data:function(){return{filterBy:{name:""}}},computed:{dog:function(){return this.$store.state.userStore.userDog},matches:function(){return console.log("this.$store.state.matchStore.matches",this.$store.state.matchStore.matches),this.$store.state.matchStore.matches},loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay},matchesCount:function(){return"Search "+this.matches.length+" Matches"},getFromDog:function(){return console.log("this.$store.getters.getFromDog",this.$store.getters.getFromDog),this.$store.getters.getFromDog}},methods:{setFilterAndSetMatches:function(){this.$store.dispatch({type:"setFilter",filterBy:Et()({},this.filterBy)}),this.$store.dispatch({type:"getDogMatches",dogId:this.dog._id})},setFromDog:function(t){this.$store.dispatch({type:"setFromDog",userId:t})}}},xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"msgs-page"},[s("form",{on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.name,expression:"filterBy.name"}],staticClass:"input is-danger is-small is-rounded",attrs:{type:"search",placeholder:t.matchesCount,autofocus:""},domProps:{value:t.filterBy.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.setFilterAndSetMatches(e):null},input:function(e){e.target.composing||t.$set(t.filterBy,"name",e.target.value)}}}),s("br")]),s("span",{staticClass:"new-matches"},[s("label",[t._v("New Matches:")]),t._l(t.matches,function(e){return t.matches?s("span",{key:e._id,staticClass:"matches-imgs"},[e.dog?s("div",{staticClass:"matches-pics profile-pics",style:{backgroundImage:"url("+e.dog.imgs[0]+")"},on:{click:function(s){t.$router.push("msgs/"+e._id)}}}):t._e()]):t._e()})],2),s("span",{staticClass:"msgs title"},[s("label",[t._v("Messages:")]),t._l(t.matches,function(e){return t.matches?s("span",{key:e._id},[e.dog?s("div",{staticClass:"message"},[t._v("\n             "+t._s(e.messages[e.messages.length-1].from)+" \n             "),s("br"),t._v("\n             "+t._s(e.messages[e.messages.length-1].txt)+"\n             "),s("br"),s("br")]):t._e()]):t._e()})],2)])},Tt=[];function Ut(t){s("M8u4")}var Bt=!1,Mt=Ut,Nt=null,St=null,Ft=Object(r["a"])(kt,xt,Tt,Bt,Mt,Nt,St),At=Ft.exports,Gt={data:function(){return{matchId:null,newMessageTxt:""}},created:function(){this.$store.dispatch({type:"getDogMatches",dogId:this.user.dogId}),this.matchId=this.$route.params.matchId,this.$socket.emit("chatRequest",{username:"puki",roomName:this.matchId})},computed:{msgs:function(){return this.$store.getters.currMsgs(this.matchId)},user:function(){return this.$store.getters.loggedInUserForDisplay}},sockets:{newChatMember:function(t){console.log("there is a new member in our chat. username:",t)},newMsg:function(t){}},methods:{sendMsg:function(){console.log("inside sendMsg");var t={txt:this.newMessageTxt,from:this.user._id,at:Date.now(),isRead:!1};this.newMessageTxt="",this.$socket.emit("newMsg",t)}}},Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"chat-page"},[s("a",{attrs:{title:"Done"},on:{click:function(e){t.$router.push("/msgs")}}},[s("i",{staticClass:"fa fa-arrow-alt-circle-left"})]),s("section",{staticClass:"chat-container"},[s("div",{staticClass:"chat"},t._l(t.msgs,function(e,o){return s("p",{key:o,staticClass:"msg-box",class:{"from-me":e.from===t.user._id}},[t._v(" "+t._s(e.txt))])})),s("form",{staticClass:"chat-input inline",on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessageTxt,expression:"newMessageTxt"}],staticClass:"input is-medium is-danger inline",attrs:{type:"text"},domProps:{value:t.newMessageTxt},on:{input:function(e){e.target.composing||(t.newMessageTxt=e.target.value)}}}),s("button",{staticClass:"button is-medium is-danger",attrs:{title:"Smiley"}},[t._v("☺")]),t._m(0),s("button",{staticClass:"button is-medium is-danger send",attrs:{title:"Send"},on:{click:function(e){return e.preventDefault(),t.sendMsg(e)}}},[s("i",{staticClass:"fa fa-location-arrow"})])])])])},Pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button is-medium is-danger",attrs:{title:"Gift"}},[s("i",{staticClass:"fa fa-gift"})])}];function Rt(t){s("F8CA")}var Lt=!1,Ht=Rt,jt="data-v-d7bc0c3c",Kt=null,zt=Object(r["a"])(Gt,Ot,Pt,Lt,Ht,jt,Kt),Wt=zt.exports,Vt={name:"profile",created:function(){var t=this;this.loggedInUser;if(null!==this.loggedInUser){var e=this.loggedInUser.dogId;this.$store.dispatch({type:"loadUserDog",dogId:e}).then(function(){console.log("this.$store.state.userDog",t.$store.state.userDog)})}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay},dog:function(){return this.$store.state.userStore.userDog}}},Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"tinder"},[t.loggedInUser&&t.dog?s("div",[s("div",{staticClass:"profile-pics",style:{backgroundImage:"url("+t.dog.imgs[0]+")"}}),s("p",[t._v(" "+t._s(t.dog.name)+" , "+t._s(t.dog.age))])]):t._e()]),s("div",{staticClass:"control"},[t.loggedInUser?s("span",[s("router-link",{staticClass:"profile-btns",attrs:{to:"/prefs",name:"PrefsPage",title:"Setting"}},[s("i",{staticClass:"fa fa-cogs"})]),t._v("  |\r\n      "),s("label",[t._v(" Settings")])],1):t._e(),t.loggedInUser?s("span",[s("router-link",{staticClass:"profile-btns",attrs:{to:"/edit",name:"EditPage",title:"Edit"}},[s("i",{staticClass:"fa fa-pencil"})]),s("label",[t._v(" Edit")])],1):t._e()])])},qt=[];function Qt(t){s("khRQ")}var Zt=!1,Jt=Qt,Xt="data-v-322e9d1a",te=null,ee=Object(r["a"])(Vt,Yt,qt,Zt,Jt,Xt,te),se=ee.exports,oe=s("rzQm"),ne=s.n(oe),ie={computed:{loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay},dogToEdit:function(){var t=this.$store.getters.userDog,e=Et()({},t,{imgs:ne()(t.imgs)});return e}},methods:{saveImg:function(t){var e=this,s=this.dogToEdit.imgs[t];this.$store.dispatch({type:"uploadImg",imgUrl:s}).then(function(s){e.dogToEdit.imgs.splice(t,1,s.url)}),swal("Picture uploaded successfully!")},emptyImg:function(t){this.dogToEdit.imgs.splice(t,1,"")},saveDog:function(){var t=this.dogToEdit;this.$store.dispatch({type:"saveDog",dogToEdit:t}).then(function(){}),swal({title:"Profile Updated!",text:"All changes have been saved",icon:"success",button:"Ok"})}}},ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loggedInUser?s("section",{staticClass:"edit-page"},[s("a",{staticClass:"done",attrs:{title:"Done"},on:{click:function(e){t.$router.push("/profile")}}},[s("i",{staticClass:"fa fa-check-circle"})]),s("section",{staticClass:"profile-imgs"},[s("div",{staticClass:"dogs-container"},t._l(6,function(e){return s("div",{staticClass:"dog",style:{backgroundImage:t.dogToEdit.imgs[e-1]?"url("+t.dogToEdit.imgs[e-1]+")":"url(./img/bgrd/paw.jpg)"}},[t.dogToEdit.imgs[e-1]?s("a",{on:{click:function(s){t.emptyImg(e-1)}}},[s("i",{staticClass:"fa fa-minus-circle"})]):s("a",[s("i",{staticClass:"fa fa-plus-circle",on:{click:function(s){t.saveImg(e-1)}}})]),t.dogToEdit.imgs[e-1]?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.imgs[e-1],expression:"dogToEdit.imgs[idx - 1]"}],staticClass:"url-input",domProps:{value:t.dogToEdit.imgs[e-1]},on:{input:function(s){s.target.composing||t.$set(t.dogToEdit.imgs,e-1,s.target.value)}}})])}))]),s("section",{staticClass:"edit-details"},[s("div",{staticClass:"main-details"},[s("form",[s("label",{staticClass:"name"},[t._v("Name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.name,expression:"dogToEdit.name"}],staticClass:"input is-small is-danger",attrs:{type:"text",placeholder:"NAME OF THE DOG"},domProps:{value:t.dogToEdit.name},on:{input:function(e){e.target.composing||t.$set(t.dogToEdit,"name",e.target.value)}}}),s("label",{staticClass:"age"},[t._v("Age:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.age,expression:"dogToEdit.age"}],staticClass:"input is-small is-danger",attrs:{type:"text",placeholder:"AGE"},domProps:{value:t.dogToEdit.age},on:{input:function(e){e.target.composing||t.$set(t.dogToEdit,"age",e.target.value)}}}),s("label",{staticClass:"breed"},[t._v("Breed:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.breed,expression:"dogToEdit.breed"}],staticClass:"input is-small is-danger",attrs:{type:"text",placeholder:"BREED"},domProps:{value:t.dogToEdit.breed},on:{input:function(e){e.target.composing||t.$set(t.dogToEdit,"breed",e.target.value)}}})])]),s("form",[s("section",{staticClass:"specs select is-danger is-small"},[s("label",[t._v("Gender:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.gender,expression:"dogToEdit.gender"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.dogToEdit,"gender",e.target.multiple?s:s[0])}}},[s("option",[t._v("Female")]),s("option",[t._v("Male")])])]),s("section",{staticClass:"select is-danger is-small"},[s("label",[t._v("City/Region:   ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.city,expression:"dogToEdit.city"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.dogToEdit,"city",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"optionGroup"},[t._v("HaMerkaz")]),s("option",{staticClass:"optionChild"},[t._v("Tel Aviv")]),s("option",{staticClass:"optionChild"},[t._v("Ramat Gan")]),s("option",{staticClass:"optionChild"},[t._v("Rishon Letzion")]),s("option",{staticClass:"optionChild"},[t._v("Bat Yam")]),s("option",{staticClass:"optionGroup"},[t._v("HaSharon")]),s("option",{staticClass:"optionChild"},[t._v("Natanya")]),s("option",{staticClass:"optionChild"},[t._v("Hertzeliya")]),s("option",{staticClass:"optionChild"},[t._v("Raanana")]),s("option",{staticClass:"optionChild"},[t._v("Kfar Saba")]),s("option",{staticClass:"optionGroup"},[t._v("HaDarom")]),s("option",{staticClass:"optionChild"},[t._v("Ashdod")]),s("option",{staticClass:"optionChild"},[t._v("Ashkelon")]),s("option",{staticClass:"optionChild"},[t._v("Beer Sheva")]),s("option",{staticClass:"optionGroup"},[t._v("HaTzafon")]),s("option",{staticClass:"optionChild"},[t._v("Haifa")]),s("option",{staticClass:"optionChild"},[t._v("Ako")]),s("option",{staticClass:"optionChild"},[t._v("Hadera")]),s("option",{staticClass:"optionChild"},[t._v("Nahariya")]),s("option",{staticClass:"optionChild"},[t._v("Krayot")])])]),s("section",{staticClass:"select is-danger is-small"},[s("label",[t._v("weight:   ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.weight,expression:"dogToEdit.weight"}],staticClass:"input is-small is-danger",attrs:{type:"text",placeholder:"WEIGHT OF THE DOG"},domProps:{value:t.dogToEdit.weight},on:{input:function(e){e.target.composing||t.$set(t.dogToEdit,"weight",e.target.value)}}})])]),s("br"),s("div",{staticClass:"desc"},[s("label",{staticClass:"desc about block"},[t._v("About:")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dogToEdit.description,expression:"dogToEdit.description"}],staticClass:"textarea is-small is-danger",attrs:{maxlength:"40",size:"60",type:"text",placeholder:"DEC DOG"},domProps:{value:t.dogToEdit.description},on:{input:function(e){e.target.composing||t.$set(t.dogToEdit,"description",e.target.value)}}})]),s("button",{staticClass:"button is-small is-danger is-rounded block",attrs:{type:"button"},on:{click:t.saveDog}},[t._v("Save Dog")])])]):t._e()},re=[];function ce(t){s("RSUW")}var le=!1,ue=ce,de="data-v-6bc741ca",ge=null,pe=Object(r["a"])(ie,ae,re,le,ue,de,ge),me=pe.exports,fe={methods:{logout:function(){var t=this;console.log("Logging out!"),this.$store.dispatch("logout").then(function(){t.$router.push("/")})}}},he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"prefs-page"},[s("a",{attrs:{title:"Done"},on:{click:function(e){t.$router.push("/profile")}}},[s("i",{staticClass:"fa fa-check-circle block done"})]),t._m(0),s("div",{staticClass:"contact"},[s("label",[t._v("Contact Us:")]),s("button",{staticClass:"button is-danger is-small is-rounded"},[t._v("Help & support")]),s("button",{staticClass:"button is-danger is-small is-rounded",on:{click:t.logout}},[t._v("Logout")])])])},ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("p",[t._v("Please select your interests:")]),s("div",{staticClass:"select is-danger is-small "},[s("label",{staticClass:"block"},[t._v("weight group  ")]),s("select",{staticClass:"block",attrs:{multiple:""}},[s("option",[t._v("0-5KG")]),s("option",[t._v("6-15KG")]),s("option",[t._v("16-30KG")]),s("option",[t._v("31-45KG")]),s("option",[t._v("46KG & up")])])]),s("div",{staticClass:"select is-danger is-small "},[s("label",{staticClass:"block"},[t._v("City/Region   ")]),s("select",{staticClass:"block",attrs:{multiple:""}},[s("option",{staticClass:"optionGroup"},[t._v("HaMerkaz")]),s("option",{staticClass:"optionChild"},[t._v("Tel Aviv")]),s("option",{staticClass:"optionChild"},[t._v("Ramat Gan")]),s("option",{staticClass:"optionChild"},[t._v("Rishon Letzion")]),s("option",{staticClass:"optionChild"},[t._v("Bat Yam")]),s("option",{staticClass:"optionGroup"},[t._v("HaSharon")]),s("option",{staticClass:"optionChild"},[t._v("Natanya")]),s("option",{staticClass:"optionChild"},[t._v("Hertzeliya")]),s("option",{staticClass:"optionChild"},[t._v("Raanana")]),s("option",{staticClass:"optionChild"},[t._v("Kfar Saba")]),s("option",{staticClass:"optionGroup"},[t._v("HaDarom")]),s("option",{staticClass:"optionChild"},[t._v("Ashdod")]),s("option",{staticClass:"optionChild"},[t._v("Ashkelon")]),s("option",{staticClass:"optionChild"},[t._v("Beer Sheva")]),s("option",{staticClass:"optionGroup"},[t._v("HaTzafon")]),s("option",{staticClass:"optionChild"},[t._v("Haifa")]),s("option",{staticClass:"optionChild"},[t._v("Ako")]),s("option",{staticClass:"optionChild"},[t._v("Hadera")]),s("option",{staticClass:"optionChild"},[t._v("Nahariya")]),s("option",{staticClass:"optionChild"},[t._v("Krayot")])]),s("br")])])}];function Ce(t){s("U5PF")}var _e=!1,De=Ce,ye="data-v-3a330f56",be=null,Ie=Object(r["a"])(fe,he,ve,_e,De,ye,be),$e=Ie.exports,we={computed:{userDog:function(){return this.$store.getters.userDog},matchedDog:function(){return this.$store.state.matchStore.matchedDog},loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay}},created:function(){}},Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loggedInUser?s("section",{staticClass:"match-page"},[s("h1",[t._v("It's a match!!!")]),t.matchedDog?s("div",{staticClass:"match-container"},[s("div",{staticClass:"profile-pics",style:{backgroundImage:"url("+t.userDog.imgs[0]+")"}}),s("div",{staticClass:"profile-pics",style:{backgroundImage:"url("+t.matchedDog.imgs[0]+")"}})]):t._e(),t.matchedDog?s("p",[t._v("You and "+t._s(t.matchedDog.name)+" have liked each other")]):t._e(),s("button",{staticClass:"button is-danger is-rounded",on:{click:function(e){t.$router.push("/msgs/5af952d65595b93b10ac2fe6")}}},[t._v("Send a Message")]),s("br"),s("button",{staticClass:"button is-danger is-rounded",on:{click:function(e){t.$router.push("./swipe")}}},[t._v("Keep Playing")])]):t._e()},ke=[];function xe(t){s("6ckn")}var Te=!1,Ue=xe,Be=null,Me=null,Ne=Object(r["a"])(we,Ee,ke,Te,Ue,Be,Me),Se=Ne.exports,Fe={props:["dog"],computed:{userDescription:function(){return this.$store.getters.userDescription}}},Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"details"},[s("p",[t._v(t._s(t.dog.description))]),s("p",[t._v("Breed: "+t._s(t.dog.breed))]),s("p",[t._v("Age: "+t._s(t.dog.age))]),s("p",[t._v("Weight: "+t._s(t.dog.weight))]),s("p",[t._v("City: "+t._s(t.dog.city))])])},Ge=[];function Oe(t){s("WBbR")}var Pe=!1,Re=Oe,Le="data-v-167e795a",He=null,je=Object(r["a"])(Fe,Ae,Ge,Pe,Re,Le,He),Ke=je.exports,ze=s("/kJX"),We=s.n(ze),Ve={props:["dog"],components:{Carousel:ze["Carousel"],Slide:ze["Slide"]}},Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dog?s("carousel",{attrs:{perPageCustom:[[480,1],[768,1],[300,1]],navigationEnabled:!0}},t._l(t.dog.imgs,function(e,o){return s("slide",{key:o,staticClass:"carousel-item",style:{backgroundImage:"url("+t.dog.imgs[o]+")"}},[s("span")])})):t._e()},qe=[];function Qe(t){s("4ffV")}var Ze,Je=!1,Xe=Qe,ts=null,es=null,ss=Object(r["a"])(Ve,Ye,qe,Je,Xe,ts,es),os=ss.exports,ns=(s("y9m4"),"saveLike"),is="loadNextDogs",as={state:{selectedDog:null,selectedDogIdx:0,filterBy:{},dogs:[],fromDog:null},getters:{currentDog:function(t){var e=t.dogs,s=t.selectedDogIdx;return e[s]},fromDog:function(t){return t.fromDog}},mutations:{setDogs:function(t,e){var s=e.dogs;t.selectedDogIdx=0,t.dogs=s},moveCurrentDog:function(t){t.selectedDogIdx++},setSelectedDog:function(t,e){var s=e.dogs;t.selectedDogIdx=null===s?0:t.selectedDogIdx++,t.selectedDog=s[t.selectedDogIdx]},setFilterBy:function(t,e){var s=e.filterBy;console.log("filterBy inside mutation setFilterBy",s),t.filterBy=s,console.log("state.filterBy",t.filterBy)},setFromDog:function(t,e){var s=e.dog;t.fromDog=s}},actions:(Ze={moveCurrentDog:function(t){var e=t.state,s=t.getters,o=t.commit;return 0===e.dogs.length?ot.getNextDogs(void 0,s.userDogId).then(function(t){o({type:"setDogs",dogs:t})}):e.selectedDogIdx===e.dogs.length-1?ot.getNextDogs(s.currentDog._id,s.userDogId).then(function(t){if("no dogs"===t)return ot.getNextDogs(void 0,s.userDogId).then(function(t){o({type:"setDogs",dogs:t})});o({type:"setDogs",dogs:t})}):(o("moveCurrentDog"),Promise.resolve())}},A()(Ze,is,function(t,e){var s=e.dogId,o=e.userDogId;return ot.getNextDogs(s,o,t.state.filterBy).then(function(e){t.commit({type:"setSelectedDog",dogs:e})})}),A()(Ze,ns,function(t,e){var s=e.dogId,o=e.userDogId,n=e.userId;return ot.addLikeToDog(s,o,n).then(function(t){})}),A()(Ze,"findLikes",function(t,e){var s=e.userDogId;return ot.findLikes(s).then(function(t){})}),A()(Ze,"uploadImg",function(t,e){var s=e.imgUrl;return ot.uploadImg(s).then(function(t){return t})}),A()(Ze,"saveDog",function(t,e){var s=e.dogToEdit;return ot.saveDog(s).then(function(t){return t})}),A()(Ze,"setFilter",function(t,e){var s=e.filterBy;console.log("filterBy inside dogStore",s),t.commit({type:"setFilterBy",filterBy:s})}),A()(Ze,"setFromDog",function(t,e){var s=e.userId;return K.getUserById(s).then(function(e){console.log("user inside setFromDog",e);var s=e.dogId;return ot.getDogById(s).then(function(e){t.commit({type:"setFromDog",dog:e})})})}),Ze)},rs=A()({name:"dog-preview",components:{DogDetails:Ke,DogCarousel:os},data:function(){return{shouldShow:!1,swipeDirection:"None"}},created:function(){this.loggedInUser;null!==this.loggedInUser&&this.$store.dispatch({type:"moveCurrentDog"})},computed:{loggedInUser:function(){return this.$store.getters.loggedInUserForDisplay},currDog:function(){return this.$store.getters.currentDog},userDog:function(){return this.$store.state.userStore.userDog}},methods:{getNextDogs:function(t,e){var s=this.$store.getters.userDogId;if(this.$store.dispatch({type:"moveCurrentDog"}),e){var o=this.loggedInUser._id;this.$socket.emit("likedDog",{dogId:t,dogUserId:e,userDogId:s,userId:o})}},showDetails:function(){this.shouldShow=!this.shouldShow},swipe:function(t){"left"===t?this.getNextDogs(this.currDog._id):this.getNextDogs(this.currDog._id,this.currDog.userId)}},sockets:{matched:function(){this.$router.push("/match")}}},"components",{DogDetails:Ke,DogCarousel:os}),cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tinder"},[s("div",{staticClass:"tinder--cards"},[t.currDog?s("div",{staticClass:"tinder--card"},[s("dog-carousel",{attrs:{dog:t.currDog}}),s("span",{on:{click:t.showDetails}},[s("i",{staticClass:"fa card-control",class:{"fa fa-info":!t.shouldShow,"fa fa-arrow-down":t.shouldShow}})]),s("p",{staticClass:"dog"},[t._v(" "+t._s(t.currDog.name)+", "+t._s(t.currDog.age)+" ")]),t.shouldShow?s("dog-details",{staticClass:"dog-info",attrs:{dog:t.currDog}}):t._e()],1):t._e()]),s("div",{staticClass:"tinder--buttons"},[s("button",{attrs:{id:"nope"},on:{click:function(e){t.getNextDogs(t.currDog._id)}}},[s("i",{staticClass:"fa fa-remove"})]),t._m(0),s("button",{attrs:{id:"love"},on:{click:function(e){t.getNextDogs(t.currDog._id,t.currDog.userId)}}},[s("i",{staticClass:"fa fa-heart"})])])])},ls=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{attrs:{id:"fav"}},[s("i",{staticClass:"fa fa-star"})])}];function us(t){s("bEDu")}var ds=!1,gs=us,ps="data-v-12139e6b",ms=null,fs=Object(r["a"])(rs,cs,ls,ds,gs,ps,ms),hs=fs.exports;o["a"].use(f["a"]);var vs=new f["a"]({routes:[{path:"/",name:"home",component:w},{path:"/about",name:"about",component:S},{path:"/login",name:"login",component:ft},{path:"/register",name:"register",component:$t},{path:"/edit",name:"edit",component:me},{path:"/prefs",name:"prefs",component:$e},{path:"/msgs",name:"msgs",component:At},{path:"/msgs/:matchId",name:"chat",component:Wt},{path:"/profile",name:"profile",component:se},{path:"/match",name:"match",component:Se},{path:"/swipe",name:"dogpreview",component:hs}]}),Cs=s("NYxO");s("gbyG"),s("Gh7F"),s("fx22"),s("WpTh");const _s="/match";function Ds(t){return O.a.get(`${_s}/${t}`,{userDogId:t}).then(t=>t.data)}var ys={getDogMatches:Ds},bs={state:{realTimeMatch:null,matchedDog:null,matches:[],filterBy:{}},mutations:{SOCKET_MATCHED:function(t,e){t.realTimeMatch=e,console.log("state.realTimeMatch",t.realTimeMatch)},SOCKET_NEWMSG:function(t,e){var s=t.matches;Array.isArray(e)&&(e=e[0]);var o=e,n=o.msg,i=o.matchId;console.log("inside SOCKET_NEWMSG");var a=s.find(function(t){return t._id===i});a.messages.push(n)},setMatchedDog:function(t,e){var s=e.dog;t.matchedDog=s},setDogMatches:function(t,e){var s=e.filteredMatches;t.matches=s,console.log("state.matches",t.matches)},setFilterBy:function(t,e){var s=e.filterBy;t.filterBy=s,console.log("filterBy inside matchState mutation",s)}},actions:{socket_matched:function(t,e){var s=t.getters.userDog._id,o=e.firstDogId===s?e.secondDogId:e.firstDogId;return ot.getDogById(o).then(function(e){t.commit({type:"setMatchedDog",dog:e})})},getDogMatches:function(t,e){var s=e.dogId;console.log("userDogId in getDogMatches",s),ys.getDogMatches(s).then(function(e){console.log("matches",e);var o=e.map(function(t){var e=t.firstDogId===s?t.secondDogId:t.firstDogId;return console.log("otherDogId",e),ot.getDogById(e).then(function(e){return console.log("dog",e),t.dog=e,t})});return Promise.all(o).then(function(e){var s=[];console.log("store.state.filterBy inside getDogMatches",t.state.filterBy),t.state.filterBy&&t.state.filterBy.name?e.forEach(function(e){e.dog.name.toLowerCase().includes(t.state.filterBy.name.toLowerCase())&&s.push(e)}):s=ne()(e),console.log("filteredMatches",s),t.commit({type:"setDogMatches",filteredMatches:s})})})},setFilter:function(t,e){var s=e.filterBy;t.commit({type:"setFilterBy",filterBy:s})}},getters:{currMsgs:function(t){return function(e){var s=t.matches.find(function(t){return e===t._id});return console.log({currMatch:s,matchId:e}),s?s.messages:[]}}}};o["a"].use(Cs["a"]);var Is=new Cs["a"].Store({strict:!0,state:{},mutations:{SOCKET_CONNECT:function(){},SOCKET_CHENAVIV:function(){}},actions:{socket_chenAviv:function(){}},modules:{userStore:at,dogStore:as,matchStore:bs}}),$s=(s("ZA4m"),s("ydGU"));Object($s["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});s("DmT9");var ws=s("hMcO"),Es=s.n(ws),ks=s("3EgV"),xs=s.n(ks),Ts=(s("thjQ"),s("f1Fh")),Us=s.n(Ts),Bs=(s("7zck"),s("RYnZ"),s("GK12"),"");o["a"].use(xs.a),o["a"].use(Es.a,Bs+"/",Is),o["a"].use(Us.a),o["a"].use(We.a),o["a"].config.productionTip=!1,new o["a"]({router:vs,store:Is,render:function(t){return t(m)}}).$mount("#app")},RSUW:function(t,e){},RYnZ:function(t,e){},U5PF:function(t,e){},WBbR:function(t,e){},ZA4m:function(t,e){},bEDu:function(t,e){},khRQ:function(t,e){},lVuh:function(t,e,s){t.exports=s.p+"img/logo.8974450d.png"}},[0]);
//# sourceMappingURL=app.c6441696.js.map